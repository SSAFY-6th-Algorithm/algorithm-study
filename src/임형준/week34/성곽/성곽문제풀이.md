# 성곽

* [2234번: 성곽](https://www.acmicpc.net/problem/2234)
* 골드4
___

## 문제 풀이
3가지를 해야 한다.
1. 영역 채우기
2. 영역에 따른 최대 넓이 구하기
3. 벽 하나 없앴을 때 최대 넓이 구하기

이 때, 2,3번은 영역을 채우고 채웠을 때 `hashMap`으로 영역에 따른 넓이를 저장했다면 쉽게 구할 수 있다.

고로 영역 채우는 게 주 문제이다.

서 1
북 2
동 4
남 8

문제에서 벽이 막혀 있는 정보를 bitmasking으로 주었다.
( 이 때, index 0,1,2,3 : 서 북 동 남 이렇게 가야 하는데, 나는 순간 배열의 맨 오른쪽 index가 0이라고 생각이 들어서 남동북서로 방향을 짜서 조금 헤맸다 )

만약 11이라고 해보자.
해당 11은 이진수로 1011이다.
만약 index == 2값, 즉 동으로 이동이 가능한 지 확인하려면 아래와 같이 bitmasking을 사용해서 확인할 수 있다.

```
for d <- 0 to 4:
	int bitDir = 1 << d
	if map[nx][ny] & bitDir == 0:
		LOGIC
```

1011 과 1을 2번 bitmasking시킨 4를 AND 연산을 시켜주자.

1011
0100
__
0000

만약 벽이 쳐져 있지 않다면 해당 숫자는 0일 것이므로, AND연산을 하면 0이 된다.
고로 0이 됐을 때 BFS를 돌려주면 된다.

나머지는 그냥 일반적인 BFS로 풀면 된다.
